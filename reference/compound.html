<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Force evaluation of a database query — compound • galah</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Force evaluation of a database query — compound"><meta name="description" content="compound() shows the full set of queries
required to properly evaluate the user's request, run prior to collapse().
The number of total queries to send for a single data request is often broader
than the single query returned by collapse(). If, for example,
the user's query includes a call to
identify(), then a taxonomic query
is required to run before the 'final' query is attempted. In relation to
other functions that manipulate _request objects, compound() is called
within collapse(), and itself
calls capture() internally where required."><meta property="og:description" content="compound() shows the full set of queries
required to properly evaluate the user's request, run prior to collapse().
The number of total queries to send for a single data request is often broader
than the single query returned by collapse(). If, for example,
the user's query includes a call to
identify(), then a taxonomic query
is required to run before the 'final' query is attempted. In relation to
other functions that manipulate _request objects, compound() is called
within collapse(), and itself
calls capture() internally where required."><meta property="og:image" content="https://galah.ala.org.au/R/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">galah</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/quick_start_guide.html">Quick start guide</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Further information</h6></li>
    <li><a class="dropdown-item" href="../articles/look_up_information.html">Looking up information</a></li>
    <li><a class="dropdown-item" href="../articles/accessing_sensitive_data.html">Accessing sensitive data</a></li>
    <li><a class="dropdown-item" href="../articles/download-data-reproducibly.html">Reproduciblility</a></li>
    <li><a class="dropdown-item" href="../articles/object-oriented-programming.html">Object oriented programming</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Filtering</h6></li>
    <li><a class="dropdown-item" href="../articles/taxonomic_filtering.html">Taxonomic filtering</a></li>
    <li><a class="dropdown-item" href="../articles/spatial_filtering.html">Spatial filtering</a></li>
    <li><a class="dropdown-item" href="../articles/temporal_filtering.html">Temporal filtering</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/AtlasOfLivingAustralia/galah-R/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Force evaluation of a database query</h1>
      <small class="dont-index">Source: <a href="https://github.com/AtlasOfLivingAustralia/galah-R/blob/main/R/compound.R" class="external-link"><code>R/compound.R</code></a></small>
      <div class="d-none name"><code>compound.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>compound()</code> shows the full set of queries
required to properly evaluate the user's request, run prior to <code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collapse()</a></code>.</p>
<p>The number of total queries to send for a single data request is often broader
than the single query returned by <code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collapse()</a></code>. If, for example,
the user's query includes a call to
<code><a href="identify.data_request.html">identify()</a></code>, then a taxonomic query
is required to run <em>before</em> the 'final' query is attempted. In relation to
other functions that manipulate <code>_request</code> objects, <code>compound()</code> is called
within <code><a href="collapse.data_request.html">collapse()</a></code>, and itself
calls <code><a href="capture.data_request.html">capture()</a></code> internally where required.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compound</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data_request'</span></span>
<span><span class="fu">compound</span><span class="op">(</span><span class="va">x</span>, mint_doi <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'metadata_request'</span></span>
<span><span class="fu">compound</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'files_request'</span></span>
<span><span class="fu">compound</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'prequery'</span></span>
<span><span class="fu">compound</span><span class="op">(</span><span class="va">x</span>, mint_doi <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'query'</span></span>
<span><span class="fu">compound</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'query_set'</span></span>
<span><span class="fu">compound</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object to be compounded. Works for <code>data_request</code>,
<code>metadata_request</code>, <code>file_request</code>, <code>query</code> or <code>prequery</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments passed to <code><a href="capture.data_request.html">capture()</a></code>.</p></dd>


<dt id="arg-mint-doi">mint_doi<a class="anchor" aria-label="anchor" href="#arg-mint-doi"></a></dt>
<dd><p>Logical: should a DOI be minted for this download? Only
applies to <code>type = "occurrences"</code>, and only for supported atlases.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>query_set</code>, which is simply a list of all <code>query</code>
objects required to properly evaluate the specified request. Objects are
listed in the order in which they will be evaluated, meaning the query
that the user has actually requested will be placed last.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>galah</code> uses an object-based pipeline to convert piped requests into
valid queries, and to enact those queries with the specified organisation.
Typically, requests open with <code><a href="galah_call.html">galah_call()</a></code> - though <code><a href="galah_call.html">request_metadata()</a></code>
and <code><a href="galah_call.html">request_files()</a></code> are also valid - and end with
<code><a href="collect.data_request.html">collect()</a></code>. Under the hood,
the sequence of functions is as follows:</p>
<p><code><a href="capture.data_request.html">capture()</a></code> → <code>compound()</code> →
<code><a href="collapse.data_request.html">collapse()</a></code> →
<code><a href="compute.data_request.html">compute()</a></code> →
<code><a href="collect.data_request.html">collect()</a></code></p>
<p><code>compound()</code> is the second of the <code><a href="galah_call.html">galah_call()</a></code> workflow, and it collates
the complete list of queries required to send in order to meet the user's
data request, returned by <code><a href="collapse.data_request.html">collapse()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>To open a piped query, see <code><a href="galah_call.html">galah_call()</a></code>. For alternative
operations on <code>_request</code> objects, see <code><a href="capture.data_request.html">capture()</a></code>,
<code><a href="collapse.data_request.html">collapse()</a></code>,
<code><a href="compute.data_request.html">compute()</a></code> or
<code><a href="collect.data_request.html">collect()</a></code>.</p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Martin Westgate, Dax Kellie.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

